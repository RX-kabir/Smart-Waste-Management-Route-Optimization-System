@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&family=Inter:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Smart Waste Management Design System
   Theme: Colorful & Friendly with Eco-Friendly Feel
   All colors are HSL
*/

@layer base {
  :root {
    /* Core eco-friendly palette */
    --background: 120 20% 98%;
    --foreground: 160 30% 15%;

    --card: 0 0% 100%;
    --card-foreground: 160 30% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 160 30% 15%;

    /* Primary: Fresh green */
    --primary: 142 70% 45%;
    --primary-foreground: 0 0% 100%;

    /* Secondary: Soft teal */
    --secondary: 174 50% 92%;
    --secondary-foreground: 174 60% 30%;

    /* Muted: Gentle gray-green */
    --muted: 140 15% 94%;
    --muted-foreground: 140 10% 45%;

    /* Accent: Vibrant orange for CTAs */
    --accent: 28 95% 55%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 140 15% 88%;
    --input: 140 15% 88%;
    --ring: 142 70% 45%;

    --radius: 0.75rem;

    /* Sidebar: Clean eco theme */
    --sidebar-background: 145 30% 97%;
    --sidebar-foreground: 160 30% 25%;
    --sidebar-primary: 142 70% 45%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 142 40% 92%;
    --sidebar-accent-foreground: 142 60% 30%;
    --sidebar-border: 140 20% 90%;
    --sidebar-ring: 142 70% 45%;

    /* Custom semantic colors for waste management */
    --success: 142 70% 45%;
    --success-foreground: 0 0% 100%;

    --warning: 38 95% 55%;
    --warning-foreground: 38 90% 15%;

    --info: 200 85% 50%;
    --info-foreground: 0 0% 100%;

    /* Bin fill level colors */
    --bin-empty: 142 70% 50%;
    --bin-low: 78 60% 50%;
    --bin-medium: 45 95% 55%;
    --bin-high: 25 95% 55%;
    --bin-critical: 0 84% 60%;

    /* Zone colors */
    --zone-1: 200 85% 55%;
    --zone-2: 280 65% 60%;
    --zone-3: 330 75% 55%;
    --zone-4: 45 95% 55%;
    --zone-5: 160 60% 45%;

    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(142 70% 45%), hsl(160 60% 40%));
    --gradient-accent: linear-gradient(135deg, hsl(28 95% 55%), hsl(38 95% 55%));
    --gradient-hero: linear-gradient(135deg, hsl(142 70% 45%) 0%, hsl(174 60% 45%) 50%, hsl(200 70% 50%) 100%);

    /* Map Colors (Merged) */
    --zone-blue: 210 100% 56%;
    --zone-purple: 280 100% 60%;
    --zone-cyan: 180 100% 45%;
  }

  .dark {
    --background: 160 25% 8%;
    --foreground: 140 20% 95%;

    --card: 160 20% 12%;
    --card-foreground: 140 20% 95%;

    --popover: 160 20% 12%;
    --popover-foreground: 140 20% 95%;

    --primary: 142 65% 50%;
    --primary-foreground: 160 30% 8%;

    --secondary: 174 30% 20%;
    --secondary-foreground: 174 40% 85%;

    --muted: 160 15% 18%;
    --muted-foreground: 140 10% 60%;

    --accent: 28 90% 55%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 70% 45%;
    --destructive-foreground: 0 0% 100%;

    --border: 160 15% 20%;
    --input: 160 15% 20%;
    --ring: 142 65% 50%;

    --sidebar-background: 160 25% 10%;
    --sidebar-foreground: 140 20% 90%;
    --sidebar-primary: 142 65% 50%;
    --sidebar-primary-foreground: 160 30% 8%;
    --sidebar-accent: 160 20% 18%;
    --sidebar-accent-foreground: 140 20% 90%;
    --sidebar-border: 160 15% 18%;
    --sidebar-ring: 142 65% 50%;

    --bin-empty: 142 65% 50%;
    --bin-low: 78 55% 50%;
    --bin-medium: 45 90% 55%;
    --bin-high: 25 90% 55%;
    --bin-critical: 0 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-display font-bold tracking-tight;
  }
}

@layer components {
  .gradient-primary {
    background: var(--gradient-primary);
  }

  .gradient-accent {
    background: var(--gradient-accent);
  }

  .gradient-hero {
    background: var(--gradient-hero);
  }

  .bin-marker {
    @apply rounded-full shadow-lg cursor-pointer;
  }

  .zone-overlay {
    @apply opacity-20 hover:opacity-30 transition-opacity;
  }

  .route-line {
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  /* Custom Map Styles (Merged) */
  .glass-panel {
    @apply bg-card/90 backdrop-blur-xl border border-border/50 shadow-2xl;
  }

  .glow-primary {
    box-shadow: 0 0 40px hsl(var(--primary) / 0.3),
      0 0 80px hsl(var(--primary) / 0.1);
  }

  .glow-success {
    box-shadow: 0 0 20px hsl(var(--success) / 0.5);
  }

  .glow-warning {
    box-shadow: 0 0 20px hsl(var(--warning) / 0.5);
  }

  .glow-danger {
    box-shadow: 0 0 20px hsl(var(--danger) / 0.5);
  }

  .pulse-success {
    animation: pulse-success 2s ease-in-out infinite;
  }

  .pulse-warning {
    animation: pulse-warning 1.5s ease-in-out infinite;
  }

  .pulse-danger {
    animation: pulse-danger 1s ease-in-out infinite;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Animations */
@keyframes pulse-success {

  0%,
  100% {
    box-shadow: 0 0 10px hsl(var(--success) / 0.4);
  }

  50% {
    box-shadow: 0 0 25px hsl(var(--success) / 0.7);
  }
}

@keyframes pulse-warning {

  0%,
  100% {
    box-shadow: 0 0 10px hsl(var(--warning) / 0.4);
  }

  50% {
    box-shadow: 0 0 25px hsl(var(--warning) / 0.7);
  }
}

@keyframes pulse-danger {

  0%,
  100% {
    box-shadow: 0 0 10px hsl(var(--danger) / 0.4);
  }

  50% {
    box-shadow: 0 0 30px hsl(var(--danger) / 0.8);
  }
}

/* MapLibre overrides */
.maplibregl-popup-content {
  background: hsl(var(--card) / 0.95) !important;
  backdrop-filter: blur(12px);
  border: 1px solid hsl(var(--border)) !important;
  border-radius: 12px !important;
  padding: 0 !important;
  box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.5) !important;
  color: hsl(var(--foreground)) !important;
}

.maplibregl-popup-close-button {
  color: hsl(var(--muted-foreground)) !important;
  font-size: 20px !important;
  padding: 8px 12px !important;
}

.maplibregl-popup-close-button:hover {
  color: hsl(var(--foreground)) !important;
  background: transparent !important;
}

.maplibregl-popup-anchor-bottom .maplibregl-popup-tip {
  border-top-color: hsl(var(--card) / 0.95) !important;
}

.maplibregl-popup-anchor-top .maplibregl-popup-tip {
  border-bottom-color: hsl(var(--card) / 0.95) !important;
}

.maplibregl-popup-anchor-left .maplibregl-popup-tip {
  border-right-color: hsl(var(--card) / 0.95) !important;
}

.maplibregl-popup-anchor-right .maplibregl-popup-tip {
  border-left-color: hsl(var(--card) / 0.95) !important;
}

.maplibregl-ctrl-group {
  background: hsl(var(--card) / 0.9) !important;
  backdrop-filter: blur(12px);
  border: 1px solid hsl(var(--border)) !important;
  border-radius: 8px !important;
  overflow: hidden;
}

.maplibregl-ctrl-group button {
  background: transparent !important;
  border-bottom: 1px solid hsl(var(--border)) !important;
}

.maplibregl-ctrl-group button:last-child {
  border-bottom: none !important;
}

.maplibregl-ctrl-group button:hover {
  background: hsl(var(--secondary)) !important;
}

.maplibregl-ctrl-group button span {
  /* No invert for light mode default, might need adjustment for dark mode */
}